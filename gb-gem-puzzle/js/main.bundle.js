(()=>{"use strict";var t={952:(t,n,e)=>{e.d(n,{Z:()=>p});var r=e(81),i=e.n(r),a=e(645),o=e.n(a),s=e(667),u=e.n(s),l=new URL(e(254),e.b),d=o()(i()),c=u()(l);d.push([t.id,'@font-face {\r\n  font-family: "Itim";\r\n  src: url('+c+') format("ttf");\r\n  font-weight: 600;\r\n  font-style: normal;\r\n}\r\n',""]);const p=d},890:(t,n,e)=>{var r=e(81),i=e.n(r),a=e(645),o=e.n(a),s=e(952),u=o()(i());u.i(s.Z),u.push([t.id,"* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-size: 90px;\r\n}\r\nbody {\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-content: center;\r\n  background-size: cover;\r\n  user-select: none;\r\n}\r\n\r\n.main-container {\r\n  width: 80%;\r\n  height: 100%;\r\n  margin: auto;\r\n  margin-top: 35px;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n}\r\n\r\n.button-container {\r\n  margin-bottom: 45px;\r\n  width: 57%;\r\n  display: flex;\r\n}\r\n.button-container div:nth-child(1) {\r\n  padding-right: 15px;\r\n}\r\n\r\n.puzzle-container {\r\n  width: auto;\r\n  height: auto;\r\n  margin: 15px auto;\r\n  position: relative;\r\n  display: grid;\r\n  grid-gap: 0;\r\n  justify-items: center;\r\n  z-index: 1;\r\n  border: 2px ridge rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.default-field {\r\n  /*4x4*/\r\n  grid-template-columns: repeat(4, 100px);\r\n  grid-template-rows: repeat(4, 100px);\r\n}\r\n\r\n.small-field {\r\n  /*3x3*/\r\n  grid-template-columns: repeat(3, 100px);\r\n  grid-template-rows: repeat(3, 100px);\r\n}\r\n\r\n.middle-field {\r\n  /*5x5*/\r\n  grid-template-columns: repeat(5, 90px);\r\n  grid-template-rows: repeat(5, 90px);\r\n}\r\n\r\n.middle-field-six {\r\n  /*6x6*/\r\n  grid-template-columns: repeat(6, 90px);\r\n  grid-template-rows: repeat(6, 90px);\r\n}\r\n\r\n.big-field {\r\n  /*7x7*/\r\n  grid-template-columns: repeat(7, 80px);\r\n  grid-template-rows: repeat(7, 80px);\r\n}\r\n\r\n.big-field-eight {\r\n  /*8x8*/\r\n  grid-template-columns: repeat(8, 70px);\r\n  grid-template-rows: repeat(8, 70px);\r\n}\r\n\r\n.puzzle-hidden {\r\n  display: none;\r\n}\r\n\r\n\r\n.game-button,\r\n.setting-button,\r\n.popup-button {\r\n  margin: 10px auto;\r\n  font-size: 24%;\r\n  padding: 6px 15px;\r\n  color: rgb(255, 255, 255);\r\n  border: none;\r\n  border-radius: 5px;\r\n  background-color: #0d9095;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup-button {\r\n  font-size: 20%;\r\n}\r\n\r\n.sound-button {\r\n  width: 40px;\r\n  height: 40px;\r\n  position: absolute;\r\n  top: 50px;\r\n  right: 16%;\r\n  border-radius: 5px;\r\n  border: none;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  z-index: 10;\r\n}\r\n\r\n.button--show {\r\n  display: block;\r\n}\r\n\r\n.empty {\r\n  width: 90%;\r\n  height: 90%;\r\n  min-width: 50px;\r\n  min-height: 50px;\r\n  box-shadow: none;\r\n  margin: auto;\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n.game-button:hover {\r\n  box-shadow: 0 3px 10px 2px rgba(0, 0, 0, 0.171);\r\n  background-color: gray;\r\n}\r\n\r\n.puzzle-item {\r\n  width: 90%;\r\n  height: 90%;\r\n  min-width: 35px;\r\n  min-height: 35px;\r\n  margin: auto;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 5px;\r\n  box-shadow: 0 3px 4px 1px rgba(18, 41, 77, 0.2);\r\n  font-size: 50%;\r\n  color: rgba(0, 0, 0, 0.6);\r\n  cursor: pointer;\r\n  z-index: 2;\r\n}\r\n\r\n.puzzle-item:hover {\r\n  border: 1px solid rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.setting-container {\r\n  width: 30%;\r\n  min-width: 300px;\r\n  height: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  z-index: 20;\r\n  border-radius: 3px;\r\n}\r\n\r\n.setting-hidden {\r\n  display: none;\r\n}\r\n\r\n.setting-list {\r\n  width: 90%;\r\n  height: 30px;\r\n  margin: 5px;\r\n  font-size: 25%;\r\n  text-align: left;\r\n  color: rgb(0, 0, 0);\r\n  border: 1px ridge rgba(0, 0, 0, 0.5);\r\n  cursor: pointer;\r\n  border-radius: 3px;\r\n}\r\n\r\n.setting-label {\r\n  width: 90%;\r\n  height: auto;\r\n  margin: 3px 3px;\r\n  font-size: 20%;\r\n  text-align: center;\r\n  color: rgb(0, 0, 0);\r\n}\r\n\r\n.setting-options {\r\n  width: auto;\r\n  height: 30px;\r\n  margin: 10px;\r\n  font-size: 80%;\r\n  color: rgb(0, 0, 0);\r\n}\r\n\r\n.ul {\r\n  list-style: none;\r\n  display: flex;\r\n  margin-top: 10px;\r\n}\r\n\r\n.ul li p {\r\n  list-style: none;\r\n  font-size: 15px;\r\n  margin: 0 0 5px 8px;\r\n  text-decoration: underline;\r\n  color: #2a75bb;\r\n}\r\n\r\n\r\n.time {\r\n  min-width: 147px;\r\n  max-width: 210px;\r\n  height: 62px;\r\n  text-align: center;\r\n  position: absolute;\r\n  top: -50px;\r\n  right: -5px;\r\n  font-size: 25%;\r\n  color: black;\r\n}\r\n\r\n.time-position {\r\n  top: 10px;\r\n  right: -160px;\r\n}\r\n\r\n.step-count {\r\n  min-width: 120px;\r\n  max-width: 150px;\r\n  height: 30px;\r\n  text-align: left;\r\n  position: absolute;\r\n  top: -50px;\r\n  left: 0;\r\n  font-size: 25%;\r\n  color: rgb(0, 0, 0);\r\n}\r\n\r\n.step-count--position {\r\n  top: 100px;\r\n  left: 105%;\r\n}\r\n\r\n.time span {\r\n  width: auto;\r\n  height: 100%;\r\n  font-size: 100%;\r\n  color: inherit;\r\n  text-align: center;\r\n}\r\n\r\n.popup {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.685);\r\n  z-index: 20;\r\n}\r\n\r\n.text-popup {\r\n  width: 500px;\r\n  padding: 0 10px;\r\n  min-width: 292px;\r\n  height: 200px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  background-color: rgb(252, 252, 252);\r\n  box-shadow: 0 0 20px 5px rgba(0, 0, 0, 0.5);\r\n  color: rgba(0, 0, 0, 0.5);\r\n  font-size: 40%;\r\n}\r\n\r\n.container-popup {\r\n  position: relative;\r\n  display: flex;\r\n  background-color: white;\r\n  border-radius: 5px;\r\n  padding:50px;\r\n  font-size:40px;\r\n}\r\n\r\n.label-container {\r\n  font-size:40px;\r\n  color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.text-container {\r\n  font-size:40px;\r\n  margin-left: 20px;\r\n  color: rgba(0, 0, 0, 0.5);\r\n\r\n}\r\n\r\n.win-container {\r\n  width: 80%;\r\n  height: 40%;\r\n  position: absolute;\r\n  top: 30%;\r\n  left: 10%;\r\n  background-color: rgba(0, 0, 0, 0.486);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.win-notice {\r\n  width: 100%;\r\n  height: 50%;\r\n  text-align: center;\r\n  overflow: hidden;\r\n}\r\n\r\n.win-notice span {\r\n  display: inline-block;\r\n  font-size: 150%;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  color: rgb(252, 252, 252);\r\n  font-weight: bold;\r\n  letter-spacing: 2px;\r\n  filter: drop-shadow(0, 0, 5px rgba(0, 0, 0, 0.5));\r\n  position: relative;\r\n  transform: translateY(-130%);\r\n  transition: transform 2s;\r\n  opacity: 0;\r\n}\r\n\r\n.win-count {\r\n  width: 100%;\r\n  height: 50%;\r\n  margin: auto;\r\n  text-align: center;\r\n  overflow: hidden;\r\n}\r\n\r\n.win-count span {\r\n  width: 100%;\r\n  display: inline-block;\r\n  font-size: 60%;\r\n  text-align: center;\r\n  color: rgb(252, 252, 252);\r\n  font-weight: bold;\r\n  filter: drop-shadow(0, 0, 5px rgba(0, 0, 0, 0.5));\r\n  position: relative;\r\n  transform: translateY(-130%);\r\n  transition: transform 2s;\r\n  opacity: 0;\r\n}\r\n\r\n.closeButton {\r\n  width: 30px;\r\n  height: 30px;\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 55px;\r\n  font-size: 30%;\r\n  color: rgb(252, 252, 252);\r\n  background-color: transparent;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n\r\n\r\n.hide-item {\r\n  opacity: 0;\r\n  box-shadow: none;\r\n}\r\n\r\n.drag-hover {\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.animateLetters {\r\n  animation: animateLetters 0.3s ease-in forwards, letterUp 1s 0.3s ease-out;\r\n}\r\n\r\n@keyframes animateLetters {\r\n  0% {\r\n    transform: translateY(-130%);\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes letterUp {\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.1);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 700px) {\r\n  .main-container {\r\n    width: 100%;\r\n    margin: 0;\r\n  }\r\n\r\n  .puzzle-item {\r\n    box-shadow: 0 2px 2px 2px rgba(18, 41, 77, 0.2);\r\n    font-size: 25%;\r\n  }\r\n\r\n  .empty {\r\n    min-width: 35px;\r\n    min-height: 35px;\r\n  }\r\n\r\n  .time {\r\n    top: -37px;\r\n    right: calc(50% - 81px);\r\n  }\r\n\r\n  .step-count {\r\n    top: -64px;\r\n    left: calc(50% - 60px);\r\n  }\r\n\r\n  .default-field {\r\n    /*4x4*/\r\n    grid-template-columns: repeat(4, 60px);\r\n    grid-template-rows: repeat(4, 60px);\r\n  }\r\n\r\n  .small-field {\r\n    /*3x3*/\r\n    grid-template-columns: repeat(3, 80px);\r\n    grid-template-rows: repeat(3, 80px);\r\n  }\r\n\r\n  .middle-field {\r\n    /*5x5*/\r\n    grid-template-columns: repeat(5, 60px);\r\n    grid-template-rows: repeat(5, 60px);\r\n  }\r\n\r\n  .middle-field-six {\r\n    /*6x6*/\r\n    grid-template-columns: repeat(6, 50px);\r\n    grid-template-rows: repeat(6, 50px);\r\n  }\r\n\r\n  .big-field {\r\n    /*7x7*/\r\n    grid-template-columns: repeat(7, 39px);\r\n    grid-template-rows: repeat(7, 45px);\r\n  }\r\n\r\n  .big-field-eight {\r\n    /*8x8*/\r\n    grid-template-columns: repeat(8, 45px);\r\n    grid-template-rows: repeat(8, 45px);\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 964px) {\r\n  .game-button,\r\n  .setting-button {\r\n    width: 80px;\r\n    height: 33px;\r\n    margin: 5px auto;\r\n    font-size: 20%;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 527px) {\r\n  .button-container {\r\n    width: 77%;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 533px) {\r\n  .container-popup {\r\n    width: 73%;\r\n    padding:1em;\r\n    justify-content: center;\r\n  }\r\n  .label-container {\r\n    font-size:23px;\r\n  }\r\n  \r\n  .text-container {\r\n    font-size:23px;\r\n    margin-left: 20px;\r\n  }\r\n}\r\n@media screen and (max-width: 465px) {\r\n  .container-popup {\r\n    width: 73%;\r\n    padding:1em;\r\n    justify-content: center;\r\n\r\n  }\r\n  .label-container {\r\n    font-size:18px;\r\n  }\r\n  \r\n  .text-container {\r\n    font-size:18px;\r\n    margin-left: 15px;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 373px) {\r\n  .container-popup {\r\n    width: 73%;\r\n    padding:0.7em;\r\n    justify-content: center;\r\n\r\n  }\r\n  .label-container {\r\n    font-size:15px;\r\n  }\r\n  \r\n  .text-container {\r\n    font-size:15px;\r\n    margin-left: 12px;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 497px) {\r\n  .sound-button {\r\n    right: 10px;\r\n  }\r\n  button-container {\r\n    width: 90%;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 450px) {\r\n  .win-container {\r\n    width: 100%;\r\n    left: 0;\r\n    z-index: 30;\r\n  }\r\n  .win-count span {\r\n    font-size: 35%;\r\n  }\r\n\r\n  .win-notice span {\r\n    font-size: 60%;\r\n  }\r\n  .sound-button {\r\n    top: 48px;\r\n    right: 12px;\r\n  }\r\n \r\n  .button-container {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 330px) {\r\n  .puzzle-item {\r\n    font-size: 18%;\r\n  }\r\n\r\n  .time {\r\n    top: -50px;\r\n  }\r\n\r\n  .step-count {\r\n    top: -25px;\r\n  }\r\n\r\n  .middle-field {\r\n    /*5x5*/\r\n    grid-template-columns: repeat(5, 50px);\r\n    grid-template-rows: repeat(5, 50px);\r\n  }\r\n\r\n  .middle-field-six {\r\n    /*6x6*/\r\n    grid-template-columns: repeat(6, 45px);\r\n    grid-template-rows: repeat(6, 45px);\r\n  }\r\n\r\n  .big-field-eight {\r\n    /*8x8*/\r\n    grid-template-columns: repeat(8, 38px);\r\n    grid-template-rows: repeat(8, 38px);\r\n  }\r\n\r\n  .puzzle-container {\r\n    border: none;\r\n  }\r\n\r\n  .game-button,\r\n  .setting-button {\r\n    width: 120px;\r\n    height: 30px;\r\n    margin: 5px auto;\r\n    font-size: 20%;\r\n  }\r\n}\r\n",""])},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,r,i,a){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(o[u]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);r&&o[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),e&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=e):d[2]=e),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),n.push(d))}},n}},667:t=>{t.exports=function(t,n){return n||(n={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),n.hash&&(t+=n.hash),/["'() \t\n]|(%20)/.test(t)||n.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{t.exports=function(t){return t[1]}},254:t=>{t.exports="data:font/ttf;base64,ZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyAiSXRpbS1SZWd1bGFyLnR0ZiI7"}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var a=n[r]={id:r,exports:{}};return t[r](a,a.exports,e),a.exports}e.m=t,e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.b=document.baseURI||self.location.href,(()=>{function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function a(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e(890);var o=function(){function n(e){t(this,n),this.count=e,this.result=0,this.sum=0,this.shuffleArray=[]}return r(n,[{key:"checkSolvability",value:function(){for(;0==this.result;){this.shuffle();for(var t=0;t<this.count;t++)if(0!=t)for(var n=t+1;n<=this.count;n++)this.shuffleArray[t]>this.shuffleArray[n]&&0!=this.shuffleArray[n]&&this.sum++;if(this.count%2==0){var e=this.getZeroPosition();if(this.sum=this.sum+e,this.sum%2==0)return this.result=1,this.shuffleArray}if(this.count%2!=0&&this.sum%2==0&&0!=this.sum)return this.result=1,this.shuffleArray}}},{key:"shuffle",value:function(){for(var t=a(Array(Math.pow(this.count,2)).keys()),n=t.length-1;n>0;n--){var e=Math.floor(Math.random()*(n+1)),r=t[n];t[n]=t[e],t[e]=r}this.shuffleArray=t}},{key:"getZeroPosition",value:function(){for(var t,n=this.shuffleArray.slice(),e=[],r=1;r<=n.length;r++){for(;n.length;)e.push(n.splice(0,this.count));e.forEach((function(n,e){n.includes(0,0)&&(t=e+1)}))}return t}}]),n}(),s=function(){function n(e,r){t(this,n),this.target=e,this.zero=r,this.zeroCoord={x:null,y:null},this.targetCoord={x:null,y:null},this.size=null,this.data=null,this.step=0}return r(n,[{key:"getdataNumber",value:function(){this.data=this.target.dataset.number}},{key:"getsize",value:function(){this.size=1.5*this.target.offsetWidth}},{key:"setTargetCoord",value:function(){this.targetCoord.x=Math.round(this.target.getBoundingClientRect().x),this.targetCoord.y=Math.round(this.target.getBoundingClientRect().y)}},{key:"setZeroCoord",value:function(){this.zeroCoord.x=Math.round(this.zero.getBoundingClientRect().x),this.zeroCoord.y=Math.round(this.zero.getBoundingClientRect().y)}},{key:"replaceItems",value:function(){this.getdataNumber(),this.getsize(),this.setTargetCoord(),this.setZeroCoord();var t=Math.abs(this.zeroCoord.x-this.targetCoord.x),n=Math.abs(this.zeroCoord.y-this.targetCoord.y);0==n&&t<=this.size&&(this.changeItems(),this.increaseStep()),0==t&&n<=this.size&&(this.changeItems(),this.increaseStep())}},{key:"changeItems",value:function(){this.target.setAttribute("data-number","0"),this.target.classList.remove("puzzle-item"),this.target.classList.add("empty"),this.target.innerText="",this.zero.setAttribute("data-number",this.data),this.zero.classList.remove("empty"),this.zero.classList.add("puzzle-item"),this.zero.innerText=this.data}},{key:"increaseStep",value:function(){this.step++}},{key:"getStep",value:function(){return this.step}},{key:"dragAndDrop",value:function(){var t=this;this.setTargetCoord(),this.setZeroCoord();var n=Math.abs(this.zeroCoord.x-this.targetCoord.x),e=Math.abs(this.zeroCoord.y-this.targetCoord.y);(e<=this.target.offsetWidth+10&&0==n||n<=this.target.offsetWidth+10&&0==e)&&(this.getdataNumber(),setTimeout((function(){t.target.classList.add("hide-item")}),0),this.target.addEventListener("dragend",(function(t){t.target.classList.remove("hide-item")})),this.zero.addEventListener("dragover",(function(t){t.preventDefault()})),this.zero.addEventListener("dragenter",(function(t){t.preventDefault(),t.target.classList.add("drag-hover")})),this.zero.addEventListener("dragleave",(function(t){t.target.classList.remove("drag-hover")})),this.zero.addEventListener("drop",(function(n){t.target.setAttribute("data-number","0"),t.target.classList.remove("puzzle-item"),t.target.classList.add("empty"),t.target.innerText="",n.target.setAttribute("data-number",t.data),n.target.classList.remove("empty"),n.target.classList.add("puzzle-item"),n.target.innerText=t.data,n.target.classList.remove("drag-hover")})))}}]),n}(),u=function(){function n(e,r,i,a){t(this,n),this.gameField=e,this.time=r,this.stepCount=i,this.itemCount=a,this.topMoves=[]}return r(n,[{key:"setDataToLocalStorage",value:function(){this.topMoves.push({step:this.stepCount});var t=JSON.parse(localStorage.getItem("gemPuzzle"));t&&(this.topMoves=[].concat(a(this.topMoves),a(null==t?void 0:t.topMoves)));var n=[];this.gameField.forEach((function(t){n.push(t.dataset.number)}));var e={gameField:n,time:this.time,step:this.stepCount,itemCount:this.itemCount,topMoves:this.topMoves};localStorage.setItem("gemPuzzle",JSON.stringify(e))}},{key:"createPopup",value:function(t){var n=document.createElement("div");n.classList.add("popup"),document.body.append(n);var e=document.createElement("p");return e.classList.add("text-popup"),e.innerText=t,n.append(e),n}},{key:"createPopupOfResult",value:function(t,n){var e=document.createElement("div");e.classList.add("popup"),document.body.append(e);var r=document.createElement("div");r.classList.add("container-popup");var i=document.createElement("p");i.classList.add("label-container"),i.innerText=n,r.append(i);var a=document.createElement("p");return a.classList.add("text-container"),a.innerText=null!=t?t:"0",r.append(a),e.append(r),e}},{key:"createSaveButton",value:function(t){var n=document.createElement("button");return n.classList.add("popup-button"),n.innerText=t,n}},{key:"createRejectButton",value:function(){var t=document.createElement("button");return t.classList.add("popup-button"),t.innerText="No",t}}]),n}(),l=function(){function n(){t(this,n),this.buttonYes=null,this.buttonNo=null,this.popup=null}return r(n,[{key:"checkDataInLocalStorage",value:function(){return null!==localStorage.getItem("gemPuzzle")?JSON.parse(localStorage.getItem("gemPuzzle")):null}},{key:"createLoadPopup",value:function(){var t=document.createElement("div");t.classList.add("popup"),document.body.append(t);var n=document.createElement("p");n.classList.add("text-popup"),n.innerHTML="There is a saved game, do you want to load it?",t.append(n);var e=document.createElement("button");e.classList.add("popup-button"),e.innerText="Yes",t.append(e);var r=document.createElement("button");r.classList.add("popup-button"),r.innerText="No",t.append(r),this.buttonNo=r,this.buttonYes=e,this.popup=t}}]),n}(),d=function(){function n(e,r){t(this,n),this.fieldSize=r,this.items=e,this.currentNumbers=[]}return r(n,[{key:"getCurrentNumbers",value:function(){var t=this;this.currentNumbers=[],this.items.forEach((function(n){t.currentNumbers.push(n.dataset.number)}))}},{key:"validation",value:function(){this.getCurrentNumbers();var t=a(Array(Math.pow(this.fieldSize,2)-1).keys()).map((function(t){return t+1})).concat(0),n=this.currentNumbers.join("");return t.join("")==n}}]),n}(),c=function(){function n(e,r){t(this,n),this.time="".concat(e.hours,":").concat(e.minutes,":").concat(e.seconds),this.step=r,this.winNotice="win!",this.winCount="Hooray! You solved the puzzle in ".concat(this.time," and  ").concat(this.step," moves !")}return r(n,[{key:"createWinNotice",value:function(){var t=document.createElement("div");t.classList.add("win-container"),document.body.append(t);var n=document.createElement("div");n.classList.add("win-notice"),t.append(n);var e=document.createElement("div");e.classList.add("win-count"),n.after(e);var r=document.createElement("button");r.classList.add("closeButton"),r.innerHTML="x",t.append(r),this.winNotice.split("").forEach((function(t,e){var r=document.createElement("span");r.innerHTML=t,n.append(r),setInterval((function(){r.classList.add("animateLetters")}),100*e)}));var i=document.createElement("span");return i.innerHTML=this.winCount,e.append(i),setInterval((function(){i.classList.add("animateLetters")}),2e3),t}}]),n}();(new(function(){function n(){t(this,n),this.itemCount="4",this.mainContainer=null,this.buttonContainer=null,this.puzzleContainer=null,this.settingContainer=null,this.puzzleItems=[],this.select=null,this.ul=null,this.frameSize=null,this.buttonSave,this.buttonPlay=null,this.buttonSetting=null,this.buttonRestart=null,this.buttonStop=null,this.buttonResult=null,this.changeSelectFrame=null,this.soundButton=null,this.saveButton=null,this.loadPopup=null,this.rejectButton=null,this.stepCountContainer=null,this.step=0,this.time=null,this.gameTime={hours:0,minutes:0,seconds:0},this.sound=!0,this.loadGame=null,this.popup=null,this.popupButtons={yes:null,no:null},this.isLoadSavedGame=!1}return r(n,[{key:"init",value:function(){var t=document.createElement("main"),n=document.createElement("button");t.classList.add("main-container"),n.classList.add("sound-button"),this.mainContainer=t,this.soundButton=n,this.soundButton.style.backgroundImage="url(./assets/images/mute-on.png)",document.body.append(this.mainContainer),document.body.append(n),this.loadSavedGame(),this.isLoadSavedGame=!1,this.clear(),this.startGame(),this.createSettingItem(),this.toggleSound()}},{key:"startGame",value:function(){this.createGameField(this.itemCount),this.replaceItems(),this.setTime(),this.setStepCount()}},{key:"createFieldGrid",value:function(t){return"3"===t?"small-field":"4"===t?"default-field":"5"===t?"middle-field":"6"===t?"middle-field-six":"7"===t?"big-field":"8"===t?"big-field-eight":void 0}},{key:"createGameField",value:function(t){var n=this,e=document.createElement("div");e.classList.add("button-container");var r=document.createElement("button");r.classList.add("game-button","restart-button"),r.innerText="Shuffle and start",this.buttonRestart=r,this.restart();var i=document.createElement("button");i.classList.add("game-button","stop-button"),i.innerText="Stop",this.buttonStop=i,this.stop();var a=document.createElement("button");a.classList.add("game-button","save-button"),a.innerText="Save",this.buttonSave=a,this.end();var s=document.createElement("button");s.classList.add("game-button","result-button"),s.innerText="Result",this.buttonResult=s,this.result(),e.append(r,i,a,s),this.mainContainer.append(e),this.buttonContainer=e;var u=[],l=this.createFieldGrid(t),d=document.createElement("div");d.classList.add("puzzle-container","puzzle-show"),d.classList.add(l),this.mainContainer.append(d),this.puzzleContainer=d,!0===this.isLoadSavedGame&&(u=this.loadGame.gameField),!1===this.isLoadSavedGame&&(u=new o(this.itemCount).checkSolvability()),u.forEach((function(t){var e=document.createElement("div");e.classList.add("puzzle-item"),e.setAttribute("data-number",t),e.setAttribute("draggable","true"),e.innerText=t,d.append(e),n.puzzleItems.push(e),0!==t&&"0"!==t||(e.innerText="",e.setAttribute("data-number","0"),e.classList.remove("puzzle-item"),e.classList.add("empty"),e.setAttribute("draggable","false"))}));var c=document.createElement("p");c.classList.add("time"),c.innerText="Time: ",this.puzzleContainer.append(c),this.time=c;var p=document.createElement("p");p.classList.add("step-count"),p.innerText="Moves: "+this.step,this.puzzleContainer.append(p),this.stepCountContainer=p}},{key:"createSettingItem",value:function(){var t=this;null!=this.settingContainer&&(document.querySelector(".setting-container").remove(),this.settingContainer=null);var n=document.createElement("section");n.classList.add("setting-container"),this.mainContainer.append(n),this.settingContainer=n;var e=document.createElement("label");e.classList.add("setting-label"),e.setAttribute("for","count-item"),e.innerText="Frame size: ".concat(this.frameSize),this.settingContainer.append(e);var r=document.createElement("ul");r.classList.add("ul"),["3x3","4x4","5x5","6x6","7x7","8x8"].map((function(n){var e=document.createElement("li"),i=document.createElement("p");e.append(i),i.innerText=n,r.append(e),t.settingContainer.append(r)})),this.ul=r,this.changeSelectFrame=this.ul,this.setItemCount()}},{key:"replaceItems",value:function(){var t=this;this.puzzleItems.forEach((function(n){n.addEventListener("click",(function(n){1==t.sound&&new Audio("../assets/sounds/move.mp3").play();var e=n.target;if(!e.classList.contains("empty")){var r=document.querySelector(".empty"),i=new s(e,r);if(i.replaceItems(),t.step+=i.getStep(),t.setStepCount(),!0===new d(t.puzzleItems,t.itemCount).validation()){t.puzzleContainer.remove(),t.toggleGameButtonHide();var a=new c(t.gameTime,t.step).createWinNotice();document.body.append(a),a.addEventListener("click",(function(){a.remove(),t.itemCount="4",t.puzzleItems=[]}))}}}))}))}},{key:"restart",value:function(){var t=this;this.buttonRestart.addEventListener("click",(function(){t.isLoadSavedGame=!1,t.puzzleItems=[],t.clear(),t.puzzleContainer.remove(),t.buttonStop.remove(),t.buttonRestart.remove(),t.buttonContainer.remove(),t.startGame(),t.createSettingItem(),t.setStepCount()}))}},{key:"stop",value:function(){var t=this;this.buttonStop.addEventListener("click",(function(){t.isLoadSavedGame=!1,t.clear(),t.gameTime=null,t.stepCountContainer=null}))}},{key:"end",value:function(){var t=this;this.buttonSave.addEventListener("click",(function(){var n=new u(t.puzzleItems,t.gameTime,t.step,t.itemCount),e=n.createPopup("Save the game? - F5 to load saved game ");t.mainContainer.append(e);var r=n.createSaveButton("Yes");e.append(r),t.saveButton=r;var i=n.createRejectButton();t.rejectButton=i,e.append(i),r.addEventListener("click",(function(){e.remove(),n.setDataToLocalStorage();var r=n.createPopup("Your game has been saved");t.mainContainer.append(r),setTimeout((function(){r.remove()}),800),t.puzzleItems=[]})),i.addEventListener("click",(function(){e.remove(),t.puzzleItems=[],t.clear(),t.itemCount="4"}))}))}},{key:"result",value:function(){var t=this;this.buttonResult.addEventListener("click",(function(){var n=new u,e=JSON.parse(localStorage.getItem("gemPuzzle")),r=n.createPopupOfResult(null==e?void 0:e.topMoves.map((function(t){return t.step})),"Top moves:");t.mainContainer.append(r);var i=n.createSaveButton("Close");r.append(i),t.saveButton=i,i.addEventListener("click",(function(){r.remove()}))}))}},{key:"toggleSound",value:function(){var t=this;this.soundButton.addEventListener("click",(function(){t.sound=!t.sound,1==t.sound?t.soundButton.style.backgroundImage="url(../assets/images/mute-on.png)":t.soundButton.style.backgroundImage="url(../assets/images/mute-off.png)"}))}},{key:"clear",value:function(){this.gameTime={hours:0,minutes:0,seconds:0},this.step=0}},{key:"loadSavedGame",value:function(){var t=this,n=new l;this.loadGame=n.checkDataInLocalStorage(),null!==this.loadGame&&(n.createLoadPopup(),n.buttonYes.addEventListener("click",(function(){t.puzzleContainer.remove(),t.buttonContainer.remove(),t.setLoadData(),t.startGame(),t.createSettingItem(),document.getElementsByClassName("popup")[0].remove()})),n.buttonNo.addEventListener("click",(function(){document.getElementsByClassName("popup")[0].remove()})))}},{key:"setLoadData",value:function(){this.itemCount=this.loadGame.itemCount,this.gameTime.hours=this.loadGame.time.hours,this.gameTime.minutes=this.loadGame.time.minutes,this.gameTime.seconds=this.loadGame.time.seconds,this.step=this.loadGame.step}},{key:"setItemCount",value:function(){var t=this;this.changeSelectFrame.addEventListener("click",(function(n){var e=n.target.textContent.toString();t.frameSize=e,t.itemCount=e.split("x")[0],t.isLoadSavedGame=!1,t.puzzleItems=[],t.clear(),t.puzzleContainer.remove(),t.buttonContainer.remove(),t.startGame(),t.setStepCount(),t.createSettingItem()}))}},{key:"setTime",value:function(){var t=this,n=document.createElement("span");this.time.append(n);var e=this.gameTime.seconds||0,r=this.gameTime.seconds||0,i=this.gameTime.minutes||0,a=this.gameTime.hours||0;setInterval((function(){null!==t.gameTime&&(e++,r=e<10?"0"+e:e,t.gameTime.seconds=r,i=t.gameTime.minutes<10?"0"+t.gameTime.minutes:t.gameTime.minutes,a=t.gameTime.hours<10?"0"+t.gameTime.hours:t.gameTime.hours,r>=59&&(e=0,t.gameTime.minutes++),i>=59&&t.gameTime.hours++,n.innerHTML=a+" : "+i+" : "+r)}),1e3)}},{key:"setStepCount",value:function(){this.stepCountContainer.innerHTML="Moves: "+this.step}}]),n}())).init()})()})();